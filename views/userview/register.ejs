<!DOCTYPE html>
<html>
<head>
  <title>Register User</title>
</head>
<body>
<%- include('../partials/header') %>
<section class="sectionmin">
  <h1  class="mainheading">Register User</h1>
  <p class="maintext">
    Please fill in the form to create an account.
  </p>
  
  <form class="formpart" action="/users/register" method="post">
    <% if (error && typeof error === 'string') { %>
      <aside class="errormessage"><%= error %></aside>
    <% } %>
    <% if (success) { %>
      <aside class="successmessage"><%= success %></aside>
      <script>
        setTimeout(() => {
          window.location.href = '/users/verify-registation';
        }, 2000); 
      </script>
    <% } %>
    <div>
        <label>Fullname:</label>
        <input 
            type="text" 
            name="fullname" 
            value="<%= data.fullname || '' %>"
        />
        <% if (error && error.fullname) { %>
          <span class="error"><%= error.fullname %></span>
        <% } %>
    </div>
    <div>
        <label>Mobile:</label>
        <input 
            type="text" 
            name="mobile" 
            value="<%= data.mobile || '' %>"
            maxlength="10"
        />
        <% if (error && error.mobile) { %>
          <span class="error"><%= error.mobile %></span>
        <% } %>
    </div>
    <div>
        <label>Email:</label>
        <input 
            type="test" 
            name="email" 
            value="<%= data.email || '' %>"
        />
        <% if (error && error.email) { %>
          <span class="error"><%= error.email %></span>
        <% } %>
    </div>
    <div>
        <label>Password:</label>
        <input 
            type="text" 
            name="password" 
            value="<%= data.password || '' %>"
            
        />
        <% if (error && error.password) { %>
          <span class="error"><%= error.password %></span>
        <% } %>
    </div>
    <div>
        <label>Confirm Password:</label>
        <input 
            type="text" 
            name="confirmpassword" 
            value="<%= data.confirmpassword || '' %>"
        />
        <% if (error && error.confirmpassword) { %>
          <span class="error"><%= error.confirmpassword %></span>
        <% } %>
    </div>
    <div>
      <button type="submit">Submit</button>
    </div>
  </form>
</section>
<%- include('../partials/footer', { title: 'EMP Management System' }) %>
</body>
</html>
